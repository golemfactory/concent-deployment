- name:    Install dependencies from testing
  apt:  name={{ item }} default_release=testing
  with_items:
    - python{{ python_version }}
    - python3-pip
    - python{{ python_version }}-dev
    # This package is need to upgrade after install python3.6
    # that requires a newer version of python3-apt.
    # The ansible `apt` module use this package.
    - python3-apt
    - virtualenv

- name:     apt autoclean
  command:  apt autoclean

- name:     apt autoremove
  command:  apt autoremove --assume-yes

- name:    Install yasha in global python environment using pip
  pip:
    executable: pip3
    name:       "{{ item }}"
  with_items:
    - yasha
    - ansible
